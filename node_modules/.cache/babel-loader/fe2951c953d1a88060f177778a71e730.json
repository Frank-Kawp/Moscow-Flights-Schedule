{"ast":null,"code":"import _classCallCheck from \"/Users/admin/Desktop/flights/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/admin/Desktop/flights/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/admin/Desktop/flights/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/admin/Desktop/flights/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/admin/Desktop/flights/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/admin/Desktop/flights/src/components/flight-item/flight-item.js\";\nimport React, { Component } from 'react';\nimport YandexFlightsShedule from '../../services/yandex-flights-shedule';\nimport './flight-item.css';\n\nvar FlightItem =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FlightItem, _Component);\n\n  function FlightItem() {\n    var _this;\n\n    _classCallCheck(this, FlightItem);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FlightItem).call(this));\n    _this.apiService = new YandexFlightsShedule();\n    _this.state = {\n      event: 'default',\n      time: 'default',\n      direction: 'default',\n      flight: 'default',\n      carrier: 'default'\n    };\n\n    _this.updateItem();\n\n    return _this;\n  }\n\n  _createClass(FlightItem, [{\n    key: \"updateItem\",\n    value: function updateItem() {\n      var _this2 = this;\n\n      this.apiService.getArrivals().then(function (body) {\n        var event = body.event === 'arrival' ? 'Прибытие в' : 'Вылет в';\n        var details = body.schedule[0].thread;\n        var number = details.number,\n            direction = details.title;\n        console.log(body);\n\n        _this2.setState({\n          event: event,\n          time: body.schedule[0].arrival,\n          direction: direction,\n          flight: number,\n          carrier: details.carrier.title\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"span\", {\n        className: \"flight-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"flight-item-sub\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, this.state.event), React.createElement(\"span\", {\n        className: \"flight-item-sub\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, this.state.time), React.createElement(\"span\", {\n        className: \"flight-item-sub\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, this.state.direction), React.createElement(\"span\", {\n        className: \"flight-item-sub\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, this.state.flight), React.createElement(\"span\", {\n        className: \"flight-item-sub\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, this.state.carrier));\n    }\n  }]);\n\n  return FlightItem;\n}(Component);\n\nexport { FlightItem as default };\n;","map":{"version":3,"sources":["/Users/admin/Desktop/flights/src/components/flight-item/flight-item.js"],"names":["React","Component","YandexFlightsShedule","FlightItem","apiService","state","event","time","direction","flight","carrier","updateItem","getArrivals","then","body","details","schedule","thread","number","title","console","log","setState","arrival"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,oBAAP,MAAiC,uCAAjC;AAEA,OAAO,mBAAP;;IAEqBC,U;;;;;AAYpB,wBAAc;AAAA;;AAAA;;AACb;AADa,UAVdC,UAUc,GAVD,IAAIF,oBAAJ,EAUC;AAAA,UARdG,KAQc,GARN;AACPC,MAAAA,KAAK,EAAE,SADA;AAEPC,MAAAA,IAAI,EAAE,SAFC;AAGPC,MAAAA,SAAS,EAAE,SAHJ;AAIPC,MAAAA,MAAM,EAAE,SAJD;AAKPC,MAAAA,OAAO,EAAE;AALF,KAQM;;AAEb,UAAKC,UAAL;;AAFa;AAGb;;;;iCAEY;AAAA;;AACZ,WAAKP,UAAL,CAAgBQ,WAAhB,GACEC,IADF,CACO,UAACC,IAAD,EAAU;AACf,YAAMR,KAAK,GAAGQ,IAAI,CAACR,KAAL,KAAe,SAAf,GAA2B,YAA3B,GAA0C,SAAxD;AACA,YAAMS,OAAO,GAAGD,IAAI,CAACE,QAAL,CAAc,CAAd,EAAiBC,MAAjC;AAFe,YAGPC,MAHO,GAGsBH,OAHtB,CAGPG,MAHO;AAAA,YAGQV,SAHR,GAGsBO,OAHtB,CAGCI,KAHD;AAIfC,QAAAA,OAAO,CAACC,GAAR,CAAYP,IAAZ;;AACA,QAAA,MAAI,CAACQ,QAAL,CAAc;AACbhB,UAAAA,KAAK,EAAEA,KADM;AAEbC,UAAAA,IAAI,EAAEO,IAAI,CAACE,QAAL,CAAc,CAAd,EAAiBO,OAFV;AAGbf,UAAAA,SAAS,EAAEA,SAHE;AAIbC,UAAAA,MAAM,EAAES,MAJK;AAKbR,UAAAA,OAAO,EAAEK,OAAO,CAACL,OAAR,CAAgBS;AALZ,SAAd;AAOA,OAbF;AAcA;;;6BAGQ;AACR,aACC;AAAM,QAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAM,QAAA,SAAS,EAAC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoC,KAAKd,KAAL,CAAWC,KAA/C,CADD,EAEC;AAAM,QAAA,SAAS,EAAC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoC,KAAKD,KAAL,CAAWE,IAA/C,CAFD,EAGC;AAAM,QAAA,SAAS,EAAC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoC,KAAKF,KAAL,CAAWG,SAA/C,CAHD,EAIC;AAAM,QAAA,SAAS,EAAC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoC,KAAKH,KAAL,CAAWI,MAA/C,CAJD,EAKC;AAAM,QAAA,SAAS,EAAC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoC,KAAKJ,KAAL,CAAWK,OAA/C,CALD,CADD;AASA;;;;EA7CsCT,S;;SAAnBE,U;AA8CpB","sourcesContent":["import React, { Component } from 'react';\nimport YandexFlightsShedule from '../../services/yandex-flights-shedule';\n\nimport './flight-item.css';\n\nexport default class FlightItem extends Component {\n\n\tapiService = new YandexFlightsShedule();\n\n\tstate = {\n\t\tevent: 'default',\n\t\ttime: 'default',\n\t\tdirection: 'default',\n\t\tflight: 'default',\n\t\tcarrier: 'default',\n\t};\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.updateItem();\n\t}\n\n\tupdateItem() {\n\t\tthis.apiService.getArrivals()\n\t\t\t.then((body) => {\n\t\t\t\tconst event = body.event === 'arrival' ? 'Прибытие в' : 'Вылет в';\n\t\t\t\tconst details = body.schedule[0].thread;\n\t\t\t\tconst { number, title: direction } = details;\n\t\t\t\tconsole.log(body);\n\t\t\t\tthis.setState({\n\t\t\t\t\tevent: event,\n\t\t\t\t\ttime: body.schedule[0].arrival,\n\t\t\t\t\tdirection: direction,\n\t\t\t\t\tflight: number,\n\t\t\t\t\tcarrier: details.carrier.title,\t\t\t\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\n\trender() {\n\t\treturn (\n\t\t\t<span className='flight-item'>\n\t\t\t\t<span className='flight-item-sub'>{ this.state.event }</span>\n\t\t\t\t<span className='flight-item-sub'>{ this.state.time }</span>\n\t\t\t\t<span className='flight-item-sub'>{ this.state.direction }</span>\n\t\t\t\t<span className='flight-item-sub'>{ this.state.flight }</span>\n\t\t\t\t<span className='flight-item-sub'>{ this.state.carrier }</span>\n\t\t\t</span>\n\t\t);\n\t};\n};"]},"metadata":{},"sourceType":"module"}